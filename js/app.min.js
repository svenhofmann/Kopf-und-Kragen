/*!
 * headroom.js v0.3.11 - Give your page some headroom. Hide your header until you need it
 * Copyright (c) 2013 Nick Williams - http://wicky.nillia.ms/headroom.js
 * License: MIT
 */(function(e){"use strict";function t(e){this.callback=e;this.ticking=!1}function n(e,r){r=r||n.options;this.lastKnownScrollY=0;this.elem=e;this.debouncer=new t(this.update.bind(this));this.tolerance=r.tolerance;this.classes=r.classes;this.offset=r.offset;this.initialised=!1}window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;t.prototype={constructor:t,update:function(){this.callback&&this.callback();this.ticking=!1},requestTick:function(){if(!this.ticking){requestAnimationFrame(this.update.bind(this));this.ticking=!0}},handleEvent:function(){this.requestTick()}};n.prototype={constructor:n,init:function(){this.elem.classList.add(this.classes.initial);setTimeout(this.attachEvent.bind(this),100)},destroy:function(){this.initialised=!1;window.removeEventListener("scroll",this.debouncer,!1);this.elem.classList.remove(this.classes.unpinned,this.classes.pinned,this.classes.initial)},attachEvent:function(){if(!this.initialised){this.initialised=!0;window.addEventListener("scroll",this.debouncer,!1)}},unpin:function(){this.elem.classList.add(this.classes.unpinned);this.elem.classList.remove(this.classes.pinned)},pin:function(){this.elem.classList.remove(this.classes.unpinned);this.elem.classList.add(this.classes.pinned)},getScrollY:function(){return window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},update:function(){var e=this.getScrollY(),t=Math.abs(e-this.lastKnownScrollY)>=this.tolerance;if(e<0)return;t&&(e>this.lastKnownScrollY&&e>=this.offset?this.unpin():e<this.lastKnownScrollY&&this.pin());this.lastKnownScrollY=e}};n.options={tolerance:0,offset:0,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",initial:"headroom"}};e.Headroom=n})(this);(function(e){e.fn.headroom=function(t){return this.each(function(){var n=e(this),r=n.data("headroom"),i=typeof t=="object"&&t;i=e.extend(!0,{},Headroom.options,i);if(!r){r=new Headroom(this,i);r.init();n.data("headroom",r)}typeof t=="string"&&r[t]()})};e("[data-headroom]").each(function(){var t=e(this);t.headroom(t.data())})})(window.Zepto||window.jQuery);var MF=function(e,t){"use strict";function o(){u(r);a(i);f()}function u(e){e.each(function(e){var n=t(this),r=t(".swipe-slider__nav",n),i='<ul class="nav nav--prev-next"><li><a href="javascript:void(0)" class="swipe__prev icon-arrow-left"></a></li><li><b class="current">1</b>/<b class="all">1</b></li><li><a href="javascript:void(0)" class="swipe__next icon-arrow-right"></a></li></ul>';n.wrapInner('<div class="swipe-wrap"/>');r.length?r.append(i):n.append(i);swipes[e]=new Swipe(n[0],{startSlide:0,speed:300,auto:0,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:function(e,r){t(".current",n).text(e+1)},transitionEnd:function(e,t){}});t(".all",n).text(swipes[e].getNumSlides());n.on(s,".swipe__prev, .swipe__next",function(n){n.preventDefault();var r=t(this);r.hasClass("swipe__prev")?swipes[e].prev():swipes[e].next();return!1})})}function a(e){e.headroom({tolerance:10,offset:100,classes:{initial:"animated",pinned:"slideDown",unpinned:"slideUp"}})}function f(){if(!Modernizr.touch){var e=document.body,t;window.addEventListener("scroll",function(){clearTimeout(t);e.classList.contains("disable-hover")||e.classList.add("disable-hover");t=setTimeout(function(){e.classList.remove("disable-hover")},200)},!1)}}var n=e.siteFunctions=e.siteFunctions||{},r=t(".swipe"),i=t("#header"),s=Modernizr.touch?"touchstart":"click";window.swipes=[];n.init=function(){o()};return e}(MF||{},jQuery);MF.siteFunctions.init();